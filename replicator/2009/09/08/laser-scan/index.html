<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">
    <title>  Laser Scan | Replicator</title>
<meta name="description" content=" " />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="generator" content="WordPress 3.0.1" />
<link rel="stylesheet" href="../../../../wp-content/themes/stheme/style.css" type="text/css" media="screen" />
		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		  ga('create', 'UA-29400586-8', 'auto');
		  ga('send', 'pageview');

		</script>

</head>
<body>
<div id="main"></div>
<div class="top_bg"></div>
<div id="header">
<div id="logo">
	<h1><a href="../../../../index.html">Replicator</a></h1>
	<div class="description">Replicating real objects</div>
	</div>
</div>

<ul id="subnav">
<li class="current_page_item active">
<a href="../../../../index.html"><em>Home</em></a></li>
<li class="page_item page-item-2"><a href="../../../../about/index.html" title="About"><em class="">About</em></a></li>
</ul>
</div>

<div id="content">
<div id="content_top">
<div id="lsidebar">
<ul>


	<li>
		<h2>Categories</h2>
		<ul>
        		<li class="cat-item cat-item-5"><a href="../../../../category/3d-printing/index.html" title="View all posts filed under 3d printing">3d printing</a>
</li>
	<li class="cat-item cat-item-17"><a href="../../../../category/3d-scanning/index.html" title="View all posts filed under 3d scanning">3d scanning</a>
</li>
	<li class="cat-item cat-item-14"><a href="../../../../category/3ds-max/index.html" title="View all posts filed under 3ds max">3ds max</a>
</li>
	<li class="cat-item cat-item-26"><a href="../../../../category/anaglyph/index.html" title="View all posts filed under anaglyph">anaglyph</a>
</li>
	<li class="cat-item cat-item-9"><a href="../../../../category/info/index.html" title="View all posts filed under info">info</a>
</li>
	<li class="cat-item cat-item-1"><a href="../../../../category/uncategorized/index.html" title="View all posts filed under Uncategorized">Uncategorized</a>
</li>
		</ul>
	</li>
      	
	<li>
		<h2>Archives</h2>
		<ul>
        		<li><a href='../../../../2010/02/index.html' title='February 2010'>February 2010</a></li>
	<li><a href='../../../../2010/01/index.html' title='January 2010'>January 2010</a></li>
	<li><a href='../../../10/index.html' title='October 2009'>October 2009</a></li>
	<li><a href='../../index.html' title='September 2009'>September 2009</a></li>
	<li><a href='../../../06/index.html' title='June 2009'>June 2009</a></li>
	<li><a href='../../../05/index.html' title='May 2009'>May 2009</a></li>
	<li><a href='../../../04/index.html' title='April 2009'>April 2009</a></li>
	<li><a href='../../../03/index.html' title='March 2009'>March 2009</a></li>
		</ul>
	</li>
        
	<li>
		<h2>Links</h2>
		<ul>
			<li><a href="http://www.gilberts3d.com/" title="Amazing detailed 3D prints (see gallery)">Gilberts 3D</a></li>
<li><a href="http://www.thinglab.co.uk">Thinglab</a></li>
		</ul>
	</li>


</ul>
</div><div id="blog">
		
<div class="box">
<div class="entry" id="post-89">
<div class="posttime"><div class="d">08</div><div class="m">Sep</div></div>
<div class="posttitle">
<h2><a href="index.html" title="Laser Scan" rel="bookmark">Laser Scan</a></h2>
<p class="postmeta"><span class="category"><a href="../../../../category/uncategorized/index.html" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a></span><span class="date">September 8th, 2009</span></p></div>

		<div class="post"><p>High resolution laser scan of a brooch found at a Roman Building known as Sladwick, north of Shapwick in Somerset. This model is massively decimated to produce about 5k polys. Click and drag in the window to view the model:</p>
<p><object id="whatever" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="500" height="400" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,115,0"><param name="src" value="/replicator/3dassets/shapwick.swf"/><param name="bgcolor" value="#555555"/><param name="quality" value="best"/><embed name="whatever" src="../../../../3dassets/shapwick.swf" width="500" height="400" bgcolor="#555555" quality="best" pluginspage="http://www.adobe.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash"></embed></object> </p>
<p>This model was produced by scanning using a Leica laser scanner &#8211; 7 scans in all, 4 on the top side, 3 on the reverse.  The main issue in scanning this object was the fact that the pin moved between scanning one side and the other. This meant dividing up the point cloud data to separate the pin from the main body.<br />
<span id="more-89"></span><br />
The flash model viewer was built using Papervision3D and Flex.  Code below:</p>
<p><code><br />
package  {<br />
    import flash.display.Sprite;<br />
    import flash.events.Event;<br />
    import flash.events.MouseEvent;<br />
    import org.papervision3d.view.Viewport3D;<br />
    import org.papervision3d.cameras.*;<br />
    import org.papervision3d.scenes.Scene3D;<br />
    import org.papervision3d.render.BasicRenderEngine;<br />
    import org.papervision3d.objects.DisplayObject3D;<br />
    import org.papervision3d.objects.parsers.Collada;<br />
    import org.papervision3d.materials.utils.MaterialsList;<br />
    import org.papervision3d.lights.PointLight3D;<br />
	import org.papervision3d.materials.shadematerials.PhongMaterial;<br />
	import org.papervision3d.cameras.FrustumCamera3D;</p>
<p>    public class Shapwick extends Sprite { </p>
<p>        public var viewport:Viewport3D;<br />
        public var renderer:BasicRenderEngine;<br />
        public var default_scene:Scene3D;<br />
        public var camera:FrustumCamera3D;<br />
        public var cow:DisplayObject3D;<br />
        public var light:PointLight3D;<br />
        public var phong:PhongMaterial;<br />
        public var redlight:PointLight3D;<br />
        public var redphong:PhongMaterial;</p>
<p>        private var previousMouseX:Number;<br />
		private var previousMouseY:Number;</p>
<p>		private var isOribiting:Boolean;<br />
		private var cameraPitch:Number = 90;<br />
		private var cameraYaw:Number = 270;<br />
		private var viewDist:Number = 1000;</p>
<p>        public function Shapwick() {<br />
            init(500, 400);</p>
<p>        }</p>
<p>        public function init(vpWidth:Number = 800, vpHeight:Number = 600):void {<br />
            initPapervision(vpWidth, vpHeight);<br />
            init3d();<br />
            initEvents();<br />
        }</p>
<p>        protected function init3d():void {</p>
<p>        	var materials:MaterialsList = new MaterialsList();</p>
<p>        	light = new PointLight3D(true);<br />
        	light.x = 800;  light.y = 800; light.z = 800;<br />
        	phong = new PhongMaterial(light, 0x228822, 0x002200, 80);<br />
        	materials.addMaterial( phong, "all" );</p>
<p>        	//redlight = new PointLight3D(true);<br />
        	//redlight.x = -800, redlight.y = -800, redlight.z = -800;<br />
        	//redphong = new PhongMaterial(light, 0xFF0000, 0x220000, 80);<br />
        	//materials.addMaterial(redphong, "all");</p>
<p>            cow = new Collada("http://tel.dur.ac.uk/replicator/3dassets/web5.dae", materials, 0.025);<br />
            default_scene.addChild(cow);</p>
<p>            camera.lookAt(cow);</p>
<p>        }</p>
<p>        protected function processFrame():void {<br />
            //cow.yaw(1);<br />
        }</p>
<p>        protected function initPapervision(vpWidth:Number, vpHeight:Number):void {<br />
            viewport = new Viewport3D(vpWidth, vpHeight);<br />
            addChild(viewport); // Add the viewport to the stage.<br />
            renderer = new BasicRenderEngine();<br />
            default_scene = new Scene3D();<br />
            //default_camera = new Camera3D();<br />
            camera = new FrustumCamera3D(viewport, 60, 10, 100000);<br />
        }</p>
<p>        protected function initEvents():void {<br />
            this.stage.addEventListener(Event.ENTER_FRAME, onEnterFrame);<br />
            this.stage.addEventListener(MouseEvent.MOUSE_DOWN, onMouseDown);<br />
			this.stage.addEventListener(MouseEvent.MOUSE_MOVE, onMouseMove);<br />
			this.stage.addEventListener(MouseEvent.MOUSE_UP, onMouseUp);<br />
			this.stage.addEventListener(MouseEvent.MOUSE_WHEEL, onMouseWheelEvent);<br />
        }</p>
<p>        protected function onEnterFrame( ThisEvent:Event ):void {<br />
            processFrame();<br />
            renderer.renderScene(default_scene, camera, viewport);<br />
        }  </p>
<p>        private function onMouseDown(event:MouseEvent):void<br />
		{<br />
			isOribiting = true;<br />
			previousMouseX = event.stageX;<br />
			previousMouseY = event.stageY;<br />
		}</p>
<p>		private function onMouseUp(event:MouseEvent):void<br />
		{<br />
			isOribiting = false;<br />
		}     </p>
<p>        private function onMouseMove(event:MouseEvent):void<br />
 		{<br />
			var differenceX:Number = event.stageX - previousMouseX;<br />
			var differenceY:Number = event.stageY - previousMouseY;</p>
<p>			if(isOribiting)<br />
			{<br />
				cameraPitch -= differenceY * (Math.PI/180);<br />
				cameraYaw -= differenceX * (Math.PI/180);</p>
<p>				cameraPitch = cameraPitch < 0.001 ? 0.001 : cameraPitch;<br />
				cameraPitch = cameraPitch > Math.PI ? Math.PI : cameraPitch;</p>
<p>				previousMouseX = event.stageX;<br />
				previousMouseY = event.stageY;</p>
<p>				camera.orbit(cow, cameraPitch, cameraYaw, viewDist);<br />
			}<br />
		}</p>
<p>		private function onMouseWheelEvent(event:MouseEvent):void<br />
		{<br />
			viewDist += (event.delta * 50);<br />
			camera.orbit(cow, cameraPitch, cameraYaw, viewDist);<br />
		}<br />
    }</p>
<p>}<br />
</code></p>
<p>The model was opened in Blender for conversion to Collada using the Collada 1.4.0 plugin for Blender 1.49b. The export was for triangles only, disabling physics and using relative paths.</p>
</div>
</div></div>
	</div>


		</div>
<div id="content_foot"></div>
	</div>
<div class="clear"></div>	
</div>

<div id="footer">

</div>
</body>
</html>
