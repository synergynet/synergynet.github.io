<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">
    <title>  Anaglyphs from Scans | Replicator</title>
<meta name="description" content=" " />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="generator" content="WordPress 3.0.1" />
<link rel="stylesheet" href="../../../../wp-content/themes/stheme/style.css" type="text/css" media="screen" />
		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		  ga('create', 'UA-29400586-8', 'auto');
		  ga('send', 'pageview');

		</script>

</head>
<body>
<div id="main"></div>
<div class="top_bg"></div>
<div id="header">
<div id="logo">
	<h1><a href="../../../../index.html">Replicator</a></h1>
	<div class="description">Replicating real objects</div>
	</div>
</div>

<ul id="subnav">
<li class="current_page_item active">
<a href="../../../../index.html"><em>Home</em></a></li>
<li class="page_item page-item-2"><a href="../../../../about/index.html" title="About"><em class="">About</em></a></li>
</ul>
</div>

<div id="content">
<div id="content_top">
<div id="lsidebar">
<ul>


	<li>
		<h2>Categories</h2>
		<ul>
        		<li class="cat-item cat-item-5"><a href="../../../../category/3d-printing/index.html" title="View all posts filed under 3d printing">3d printing</a>
</li>
	<li class="cat-item cat-item-17"><a href="../../../../category/3d-scanning/index.html" title="View all posts filed under 3d scanning">3d scanning</a>
</li>
	<li class="cat-item cat-item-14"><a href="../../../../category/3ds-max/index.html" title="View all posts filed under 3ds max">3ds max</a>
</li>
	<li class="cat-item cat-item-26"><a href="../../../../category/anaglyph/index.html" title="View all posts filed under anaglyph">anaglyph</a>
</li>
	<li class="cat-item cat-item-9"><a href="../../../../category/info/index.html" title="View all posts filed under info">info</a>
</li>
	<li class="cat-item cat-item-1"><a href="../../../../category/uncategorized/index.html" title="View all posts filed under Uncategorized">Uncategorized</a>
</li>
		</ul>
	</li>
      	
	<li>
		<h2>Archives</h2>
		<ul>
        		<li><a href='../../../../2010/02/index.html' title='February 2010'>February 2010</a></li>
	<li><a href='../../../../2010/01/index.html' title='January 2010'>January 2010</a></li>
	<li><a href='../../../10/index.html' title='October 2009'>October 2009</a></li>
	<li><a href='../../../09/index.html' title='September 2009'>September 2009</a></li>
	<li><a href='../../index.html' title='June 2009'>June 2009</a></li>
	<li><a href='../../../05/index.html' title='May 2009'>May 2009</a></li>
	<li><a href='../../../04/index.html' title='April 2009'>April 2009</a></li>
	<li><a href='../../../03/index.html' title='March 2009'>March 2009</a></li>
		</ul>
	</li>
        
	<li>
		<h2>Links</h2>
		<ul>
			<li><a href="http://www.gilberts3d.com/" title="Amazing detailed 3D prints (see gallery)">Gilberts 3D</a></li>
<li><a href="http://www.thinglab.co.uk">Thinglab</a></li>
		</ul>
	</li>


</ul>
</div><div id="blog">
		
<div class="box">
<div class="entry" id="post-70">
<div class="posttime"><div class="d">11</div><div class="m">Jun</div></div>
<div class="posttitle">
<h2><a href="index.html" title="Anaglyphs from Scans" rel="bookmark">Anaglyphs from Scans</a></h2>
<p class="postmeta"><span class="category"><a href="../../../../category/3d-scanning/index.html" title="View all posts in 3d scanning" rel="category tag">3d scanning</a>, <a href="../../../../category/3ds-max/index.html" title="View all posts in 3ds max" rel="category tag">3ds max</a>, <a href="../../../../category/anaglyph/index.html" title="View all posts in anaglyph" rel="category tag">anaglyph</a></span><span class="date">June 11th, 2009</span></p></div>

		<div class="post"><p>Ever wanted to create a red-blue 3D picture from a 3D scan? I did. Figured it out too. This post describes how you could get something like this:</p>
<p><a href="../../../../wp-content/uploads/2009/06/agt5.jpg"><img class="aligncenter size-medium wp-image-77" title="agt5" src="../../../../wp-content/uploads/2009/06/agt5-300x248.jpg" alt="agt5" width="300" height="248" /></a></p>
<p>Except, probably much better looking. I&#8217;m using the Mephisto 1.6 Complete software in conjunction with 3D Studio Max 2009.</p>
<p>Click more, for more&#8230;</p>
<p><span id="more-70"></span></p>
<p>Firstly, I&#8217;m going to assume that you are taking a new scan. If you&#8217;d like colour images, then make sure you save the colors for each vertex (see the checkboxes when you scan). I&#8217;ve found that exporting in PLY format works well.</p>
<p>Next, you&#8217;ll need 3D Studio MAX to be able to read PLY format files. I&#8217;ve found that <a href="https://visualization.hpc.mil/wiki/PLY_Import_Plugins_for_3DS_Max_2009">this free plugin</a> deals with the Mephisto PLY output. There may be others (please comment).</p>
<p>So, with 3DS Max open, import your PLY scan data. I had something like this:</p>
<p><a href="../../../../wp-content/uploads/2009/06/agt1.jpg"><img class="aligncenter size-medium wp-image-73" title="agt1" src="../../../../wp-content/uploads/2009/06/agt1-300x224.jpg" alt="agt1" width="300" height="224" /></a></p>
<p>After cleaning up the unwanted parts of the model, changing the pivot point, and rotating to ensure the Top, Front and Left views made sense, I had this:</p>
<p><a href="../../../../wp-content/uploads/2009/06/agt2.jpg"><img class="aligncenter size-medium wp-image-74" title="agt2" src="../../../../wp-content/uploads/2009/06/agt2-300x224.jpg" alt="agt2" width="300" height="224" /></a></p>
<p>Next, we need to use the colour information stored with each vertex. Open the Material Editor, and working with a Default material, open up the Maps area. For the Diffuse Color, create a new Map by choosing &#8216;Vertex Color&#8217; from the list. Assign this material to your scanned object. After rendering, it should have colour:</p>
<p><a href="../../../../wp-content/uploads/2009/06/agt3.jpg"><img class="aligncenter size-medium wp-image-75" title="agt3" src="../../../../wp-content/uploads/2009/06/agt3-300x223.jpg" alt="agt3" width="300" height="223" /></a></p>
<p>Next, we need a pair of target cameras, set at the right distance apart, and both pointing to exactly the same spot, somewhere in the middle of the model. Name the left camera lefteye and the right camera righteye. You can pick different names if you like, but the script I&#8217;ll use will rely on these names. The easiest method I&#8217;ve found is to create a camera at 0,0,0 , looking straight forward into the y axis. Then use move this using the move transform type-in to, say -3cm for the left eye, and +3cm for the right eye. This assumes your model&#8217;s units work out like this.</p>
<p>Here&#8217;s where we&#8217;re at, noting that we can view lefteye and righteye:</p>
<p><a href="../../../../wp-content/uploads/2009/06/agt4.jpg"><img class="aligncenter size-medium wp-image-76" title="agt4" src="../../../../wp-content/uploads/2009/06/agt4-300x223.jpg" alt="agt4" width="300" height="223" /></a></p>
<p>Finally, a script that will display an anaglyph using both cameras:<br />
<code>imgw = 1600<br />
imgh = 1200</p>
<p>a = render camera:$lefteye outputwidth:imgw outputheight:imgh vfb:false<br />
b = render camera:$righteye outputwidth:imgw outputheight:imgh vfb:false</p>
<p>c = bitmap imgw imgh</p>
<p>for j = 0 to imgh-1 do<br />
(<br />
for i = 0 to imgw-1 do<br />
(<br />
cleft = getpixels a [i,j] 1<br />
cright = getpixels b [i,j] 1<br />
cfinal = #([cleft[1].red, cright[1].green, cright[1].blue])<br />
setpixels c [i,j] cfinal<br />
)<br />
)</p>
<p>display c<br />
</code></p>
<p>Select &#8216;New Script&#8217; from the &#8216;MAXScript&#8217; menu, paste the above in, and use CTRL-E to run it. You should get a single anaglyph image:</p>
<p><a href="../../../../wp-content/uploads/2009/06/agt5.jpg"><img class="aligncenter size-medium wp-image-77" title="agt5" src="../../../../wp-content/uploads/2009/06/agt5-300x248.jpg" alt="agt5" width="300" height="248" /></a></p>
</div>
</div></div>
	</div>


		</div>
<div id="content_foot"></div>
	</div>
<div class="clear"></div>	
</div>

<div id="footer">

</div>
</body>
</html>
